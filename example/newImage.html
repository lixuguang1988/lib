<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>new Image load</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <button id="newImage">New Image</button>	
        <script src="js/jquery.1.7.2.js"></script>
        <script>
        	$('#newImage').on("click", function(){
       			var img = new Image(),
       			    url = "http://img20.360buyimg.com/vc/jfs/t148/253/235187761/296049/e1b92e6c/538541ceN7660bb85.jpg";
       			    
       			img.src=url;
		       	/*
		       	if(img.addEventListener){
		       		img.addEventListener("load", function(){
		       			$('#newImage').after('<img src="' + url + '">');
		       		}, false);	
		       	}else if(img.attachEvent){
		       		
		       		img.attachEvent("onload", function(){
		       			$('#newImage').after('<img src="' + url + '">');
		       		});	
		       	}
		       	*/
		       	console.log("loading....");
		       	$(img).on('load', function(){
		       		console.log(img.width + "x" + img.height);
		       		$('#newImage').after('<img src="' + url + '">');
		       	});
		       	//IE6~8同一张图片连续多次点击只能触发一次load事件，可以加随机数, 
		       	//记住已经加载过的图片,就不用烦了
        	});	 
        </script>
    </body>
</html>
